cmake_minimum_required(VERSION 3.30)
project(RAMForge C)

set(CMAKE_C_STANDARD 11)

add_executable(src/main.c src/http_server.c src/http_server.h src/router.c src/router.h src/storage.c src/storage.h src/ramforge.c src/ramforge.h src/request.h src/response.h src/user.h src/request.c src/response.c src/cluster.c src/cluster.h src/app_routes.c src/app_routes.h src/object_pool.c src/object_pool.h src/app.h src/slab_alloc.c src/slab_alloc.h src/aof_batch.c src/aof_batch.h src/globals.c src/fast_json.h src/app.c src/crc32c.c src/crc32c.h src/zero_pause_rdb.c src/zero_pause_rdb.h src/ramforge_rotation_metrics.c src/ramforge_rotation_metrics.h src/shared_storage.c src/shared_storage.h src/log.h src/metrics_shared.h src/metrics_shared.c src/zero_pause_restore.c src/zero_pause_restore.h src/globals.h src/persistence_zp.c src/persistence_zp.h src/storage_thread_safeguard.c src/storage_thread_safeguard.h src/common.h src/rf_broker.h src/rf_broker.c src/ramforge_ha_config.c src/ramforge_ha_config.h src/ramforge_ha_replication.c src/ramforge_ha_replication.h src/ramforge_ha_integration.c src/ramforge_ha_integration.h src/ramforge_ha_net.c src/ramforge_ha_net.h src/ramforge_ha_tls.c src/ramforge_ha_tls.h src/http_timing.h)
